"use strict";if("undefined"==typeof jQuery)throw new Error("Anarkit need jQuery!!!");!function(t){var a,i={},n={};i.version="3.4",n.initiateMasonry=function(a){var i=a.anarkit().getDataSetting("ak-masonry");i.column=i.column||1,i.column_s=i.column_s||i.column,i.column_m=i.column_m||i.column,i.column_l=i.column_l||i.column,i.column_xl=i.column_xl||i.column,i.column_xxl=i.column_xxl||i.column,"s"===t.anarkit.getMediaSize()?a.anarkit().masonry(i.column_s):"m"===t.anarkit.getMediaSize()?a.anarkit().masonry(i.column_m):"l"===t.anarkit.getMediaSize()?a.anarkit().masonry(i.column_l):"xl"===t.anarkit.getMediaSize()?a.anarkit().masonry(i.column_xl):"xxl"===t.anarkit.getMediaSize()&&a.anarkit().masonry(i.column_xxl)},i.fileReader=function(a){if(void 0===a.files)return!1;t.each(a.files,function(i,n){if(void 0!==a.file_type&&-1===n.type.indexOf(a.file_type))return t.isFunction(a.callback_always)&&a.callback_always(),t.isFunction(a.callback_wrong_file)?a.callback_wrong_file():console.log("Wrong file type!"),!1;var e=new FileReader,o={};o.name=n.name,o.type=n.type,o.size=n.size,e.onload=function(i){o.data=i.target.result,t.isFunction(a.callback_always)&&a.callback_always(),t.isFunction(a.callback_on_load)&&a.callback_on_load(o,i)},e.onloadstart=function(i){t.isFunction(a.callback_on_load_start)&&a.callback_on_load_start(i)},e.onprogress=function(i){if(i.lengthComputable){var n=Math.round(i.loaded/i.total*100);t.isFunction(a.callback_on_progress)&&a.callback_on_progress(n,i)}},e.onerror=function(i){t.isFunction(a.callback_always)&&a.callback_always(),t.isFunction(a.callback_on_error)&&a.callback_on_error(i)},e.onabort=function(i){t.isFunction(a.callback_always)&&a.callback_always(),t.isFunction(a.callback_on_abort)&&a.callback_on_abort(i)},"binary_string"===a.read_as?e.readAsBinaryString(n):"data_url"===a.read_as?e.readAsDataURL(n):"array_buffer"===a.read_as?e.readAsArrayBuffer(n):e.readAsText(n)})},i.resizeImage=function(a){if("object"!=typeof a||void 0===a.data)return!1;var i=new Image;t(i).on("load",function(){var n,e=document.createElement("canvas"),o=a.width||i.width,c=a.height||i.height;void 0===a.height&&void 0!==a.width?c=i.height/i.width*a.width:void 0!==a.height&&void 0===a.width&&(o=i.width/i.height*a.height),e.width=o,e.height=c,e.getContext("2d").drawImage(i,0,0,o,c),n=e.toDataURL(a.image_type||"image/jpeg"),t(i).remove(),t.isFunction(a.callback)&&a.callback(n)}),i.src=a.data},i.getMediaSize=function(){var a=t("#ak-responsive-block");if(a.length<=0)return!1;switch(a.css("height")){case"1px":return"s";case"2px":return"m";case"3px":return"l";case"4px":return"xl";case"5px":return"xxl"}},a=function(){var a={};return a.o=t(this),a.getClassValue=function(i){if(a.o.length<=0||void 0===i||void 0===a.o.attr("class"))return!1;var n,e=a.o.attr("class").split(" ");return t.each(e,function(t,a){if(0===a.indexOf(i))return n=a.substr(i.length+1,a.length-1),!1}),n},a.getDataSetting=function(t){if(a.o.length<=0)return!1;var i=a.o.attr("data-"+t);if("string"!=typeof i)return!1;var n=[];i=i.split(";");for(var e in i){var o=i[e];2===(o=o.split(":",2)).length&&(o[0]=o[0].replace(/ /g,""),n[o[0]]=o[1])}return n},a.imagesLoaded=function(i,n){var e=a.o.find("img"),o=e.length,c=0;if(void 0!==n&&(e=a.o.find("img"+n)),e.length<=0)return"function"==typeof i&&i(),!1;e.each(function(){t(this)[0].complete?++c===o&&"function"==typeof i&&i():t(this).on("load",function(){++c==o&&"function"==typeof i&&i()})})},a.masonry=function(i){if(a.o.length<=0)return!1;i=i||1,a.o.anarkit().imagesLoaded(function(){var n=1/i*100+"%",e=[],o=0;"static"!==a.o.css("position")&&void 0!==a.o.css("position")||a.o.css({position:"relative"});for(var c=0;c<i;c++)e[c]=0;a.o.children().each(function(a){var i=0;t.each(e,function(t,a){a<e[i]&&(i=t)}),t(this).css({position:"absolute",width:n,left:"calc( "+i+" * "+n+" )",top:e[i]+"px"}),e[i]+=t(this).outerHeight()}),t.each(e,function(t,a){a>o&&(o=a)}),a.o.css({height:o+"px"})})},a.toggleActivate=function(){if(a.o.length<=0)return!1;a.o.each(function(){var a=t(this);if(a.parent().is("[data-ak-toggleActiveGroup]"))return!1;a.toggleClass("ak-active")})},a.resetToggleActiveGroup=function(){if(a.o.length<=0)return!1;a.o.each(function(){var a=t(this);if(!a.is("[data-ak-toggleActiveGroup]"))return!1;a.children().eq(0).anarkit().activate()})},a.activate=function(){if(a.o.length<=0)return!1;a.o.each(function(){var a=t(this);a.parent().is("[data-ak-toggleActiveGroup]")&&(a.length>1&&(a=a.eq(0)),a.siblings().removeClass("ak-active")),a.addClass("ak-active")})},a.deactivate=function(){if(a.o.length<=0)return!1;a.o.each(function(){var a=t(this);a.removeClass("ak-active"),a.parent().is("[data-ak-toggleActiveGroup]")&&a.parent().children().eq(0).addClass("ak-active")})},a.boundPosition=function(i,n,e){if(a.o.length<=0||t(i).length<=0)return!1;i=t(i),a.o.each(function(){var a=t(this);!0===n&&(a.css("top",i.offset().top),t(window).on("resize",function(){a.css("top",i.offset().top)})),!0===e&&(a.css("left",i.offset().left),t(window).on("resize",function(){a.css("left",i.offset().left+"px")}))})},a.initiateEach=function(i,n){if(a.o.length<=0)return!1;a.o.each(function(){void 0===this.ak_initiate&&(this.ak_initiate=[]),void 0===this.ak_initiate[i]&&(this.ak_initiate[i]=!0,t.isFunction(n)&&n(t(this)))})},a.initiate=function(){if(a.o.length<=0)return!1;t("body").eq(0).find("#ak-responsive-block").length<1&&t("body").eq(0).append('<div id="ak-responsive-block" data-dalm-prop></div>'),a.o.find("[data-ak-masonry]").each(function(){n.initiateMasonry(t(this))}),a.o.find("[data-ak-toggleActiveGroup]").each(function(){var a=t(this);a.children(".ak-active").length>1&&a.children(".ak-active").eq(0).siblings(".ak-active").removeClass("ak-active"),a.children(".ak-active").length<=0&&a.children().eq(0).addClass("ak-active")}),a.o.find("[data-ak-toggleActivate]").anarkit().initiateEach("ak-toggleActivate",function(a){var i=a.anarkit().getDataSetting("ak-toggleActivate");void 0===i.target?a.on("click",function(){a.anarkit().toggleActivate()}):a.on("click",function(){t(i.target).anarkit().toggleActivate()})}),a.o.find("[data-ak-activate]").anarkit().initiateEach("ak-activate",function(a){var i=a.anarkit().getDataSetting("ak-activate");void 0===i.target?a.on("click",function(){a.anarkit().activate()}):a.on("click",function(){t(i.target).anarkit().activate()})}),a.o.find("[data-ak-activateOnHover]").anarkit().initiateEach("ak-activateOnHover",function(a){var i=a.anarkit().getDataSetting("ak-activateOnHover");void 0===i.target?a.on("mouseenter",function(){a.anarkit().activate()}):a.on("mouseenter",function(){t(i.target).anarkit().activate()})}),a.o.find("[data-ak-activateParent]").anarkit().initiateEach("ak-activateParent",function(a){a.on("click",function(){t(a.parent()).anarkit().activate()})}),a.o.find("[data-ak-deactivate]").anarkit().initiateEach("ak-deactivate",function(a){var i=a.anarkit().getDataSetting("ak-deactivate");void 0===i.target?a.on("click",function(){a.anarkit().deactivate()}):a.on("click",function(){t(i.target).anarkit().deactivate()})}),a.o.find("[data-ak-deactivateSiblings]").anarkit().initiateEach("ak-deactivateSibling",function(a){a.on("click",function(){t(a.siblings()).anarkit().deactivate()})}),a.o.find("[data-ak-resetActive]").anarkit().initiateEach("ak-resetActive",function(a){a.on("click",function(){var i=a.anarkit().getDataSetting("ak-resetActive");void 0!==i.target&&t(i.target).find(".ak-active").anarkit().deactivate()})}),a.o.find("[data-ak-boundX]").anarkit().initiateEach("ak-boundX",function(a){var i=a.anarkit().getDataSetting("ak-boundX");if(void 0===i.target||t(i.target).length<=0)return!1;a.anarkit().boundPosition(t(i.target),!1,!0)}),a.o.find("[data-ak-boundY]").anarkit().initiateEach("ak-boundY",function(a){var i=a.anarkit().getDataSetting("ak-boundY");if(void 0===i.target||t(i.target).length<=0)return!1;a.anarkit().boundPosition(t(i.target),!0)}),a.o.find("[data-ak-button], button, a").anarkit().initiateEach("ak-button",function(a){a.on("mousedown touchstart",function(){a.addClass("ak-click")}),t(document).on("mouseup touchend",function(){a.removeClass("ak-click")})})},a},jQuery.anarkit=i,jQuery.fn.anarkit=a,t(window).on("resize",function(){"undefine"!=typeof n.resize_delay&&clearTimeout(n.resize_delay),n.resize_delay=window.setTimeout(function(){t("body").eq(0).find("[data-ak-masonry]").each(function(){n.initiateMasonry(t(this))})},1e3)})}(jQuery),jQuery(document).ready(function(){jQuery(document).anarkit().initiate()});